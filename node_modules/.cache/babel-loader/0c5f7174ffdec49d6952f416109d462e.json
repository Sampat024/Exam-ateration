{"ast":null,"code":"import _slicedToArray from\"C:/Users/HRIDHI SETHI/Documents/exam-alteration-helper/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Form,Button,Card}from'react-bootstrap';import'bootstrap/dist/css/bootstrap.min.css';import{Link}from'react-router-dom';import firebase from'../firebase';import{useState,useEffect}from'react';import'./exam_slot_assigning.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var db=firebase.firestore();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),Faculty_id=_useState2[0],setFaculty_id=_useState2[1];//database\nvar _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),ClassName=_useState4[0],setClassName=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),Details=_useState6[0],setDetails=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),Fac_id=_useState8[0],setFacID=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),Date=_useState10[0],setDate=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),Time=_useState12[0],setTime=_useState12[1];useEffect(function(){db.collection('ClassRoom').onSnapshot(function(snapshot){setClassName(snapshot.docs.map(function(doc){return doc.data().ClassNumber;}));});db.collection('FacultyDetails').onSnapshot(function(snapshot){setFaculty_id(snapshot.docs.map(function(doc){return doc.data().ID;}));});db.collection('Allotments').onSnapshot(function(snapshot){setDetails(snapshot.docs.map(function(doc){return doc.data().ClassRoom;}));setFacID(snapshot.docs.map(function(doc){return doc.data().FacultyID;}));setDate(snapshot.docs.map(function(doc){return doc.data().AllotmentD;}));setTime(snapshot.docs.map(function(doc){return doc.data().AllotmentT;}));});},[]);console.log(Fac_id);function validity(req,inside){var i=0;for(i=0;i<inside.length;i++){if(inside[i]==req){return 1;}}return 0;}function getdetails(fac_id,clas,date,time){var i=0;for(i=0;i<Fac_id.length;i++){if(Fac_id[i]==fac_id){//a.push(Details[i])\nif(Details[i]==clas){if(Date[i]==date){if(Time[i]==time){return 0;}}}}}return 1;}function add_details(e){e.preventDefault();var request={Faculty_id:document.getElementById('facid').value,date:document.getElementById('date').value,time:document.getElementById('time').value,class:document.getElementById('class').value};//check date and time according to the exam schedule --sprint2 \n//validity \nvar t=0;if(validity(request.class,ClassName)){}else{alert('Wrong Credentials!!');t=1;}if(validity(request.Faculty_id,Faculty_id)){}else{if(t==0){t=1;alert('Wrong Credentials!!');}}//faculty id commintment \nif(getdetails(request.Faculty_id,request.class,request.date,request.time)){}else{if(t==0){t=1;alert('Wrong Credentials!!');}}if(t==1){}else{db.collection(\"Allotments\").doc(request.Faculty_id).set({AllotmentT:request.time,AllotmentD:request.date,ClassRoom:request.class,FacultyID:request.Faculty_id}).then(function(){console.log(\"Document successfully written!\");}).catch(function(error){console.error(\"Error writing document: \",error);});}}return/*#__PURE__*/_jsxs(\"div\",{className:\"rrt\",children:[/*#__PURE__*/_jsx(Link,{to:\"/ahome\",children:/*#__PURE__*/_jsx(Button,{variant:\"primary\",className:\"ff\",children:\"Home\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"amrita\",children:/*#__PURE__*/_jsx(Card,{border:\"dark\",style:{width:'30rem'},children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:\"Alloting Details\"}),/*#__PURE__*/_jsxs(Form,{onSubmit:function onSubmit(e){return add_details(e);},children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formBasicEmail\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Give faculty ID\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"faculty id\",id:\"facid\"})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formBasicPassword\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Allotment date\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"date\",placeholder:\"date\",id:\"date\"})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formBasicPassword\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Allotment time\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"time\",placeholder:\"time\",id:\"time\"})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formBasicPassword\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Allotment classroom\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"classroom\",id:\"class\"})]}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",value:\"Submit\",children:\"Allot\"})]})]})})})]});}export default App;","map":{"version":3,"sources":["C:/Users/HRIDHI SETHI/Documents/exam-alteration-helper/src/Componets/exam_slot_assigning.js"],"names":["Form","Button","Card","Link","firebase","useState","useEffect","App","db","firestore","Faculty_id","setFaculty_id","ClassName","setClassName","Details","setDetails","Fac_id","setFacID","Date","setDate","Time","setTime","collection","onSnapshot","snapshot","docs","map","doc","data","ClassNumber","ID","ClassRoom","FacultyID","AllotmentD","AllotmentT","console","log","validity","req","inside","i","length","getdetails","fac_id","clas","date","time","add_details","e","preventDefault","request","document","getElementById","value","class","t","alert","set","then","catch","error","width"],"mappings":"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","sourcesContent":["import { Form,Button,Card } from 'react-bootstrap';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport { Link } from 'react-router-dom';\r\nimport firebase from '../firebase';\r\nimport { useState,useEffect } from 'react';\r\nimport './exam_slot_assigning.css';\r\nfunction App() {\r\n  const db = firebase.firestore();\r\n  const [Faculty_id,setFaculty_id]=useState([]);//database\r\n  const [ClassName,setClassName]=useState([]);\r\n  const [Details,setDetails]=useState([]);\r\n  const [Fac_id,setFacID]=useState([]);\r\n  const [Date,setDate]=useState([]);\r\n  const [Time,setTime]=useState([]);\r\n  useEffect(() =>{\r\n    db.collection('ClassRoom').onSnapshot(snapshot =>{\r\n      setClassName(snapshot.docs.map(doc => doc.data().ClassNumber))\r\n    })\r\n    db.collection('FacultyDetails').onSnapshot(snapshot =>{\r\n      setFaculty_id(snapshot.docs.map(doc => doc.data().ID))\r\n    })\r\n    db.collection('Allotments').onSnapshot(snapshot =>{\r\n      setDetails(snapshot.docs.map(doc => doc.data().ClassRoom))\r\n      setFacID(snapshot.docs.map(doc => doc.data().FacultyID))\r\n      setDate(snapshot.docs.map(doc => doc.data().AllotmentD))\r\n      setTime(snapshot.docs.map(doc => doc.data().AllotmentT))\r\n    })\r\n  },[]);\r\n\r\n  console.log(Fac_id);\r\n  function validity(req,inside){\r\n    var i=0;\r\n    \r\n    for(i=0;i<inside.length;i++){\r\n      if(inside[i]==req){\r\n        return 1\r\n      }\r\n      }\r\n      return 0 \r\n    }\r\n  function getdetails(fac_id,clas,date,time){\r\n    var i=0;\r\n    for(i=0;i<Fac_id.length;i++){\r\n      if(Fac_id[i]==fac_id){\r\n        //a.push(Details[i])\r\n        if (Details[i]==clas){\r\n          if(Date[i]==date){\r\n            if(Time[i]==time){\r\n              return 0\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return 1\r\n  }\r\n  function add_details(e){\r\n    e.preventDefault();\r\n    let request =  {\r\n        Faculty_id:document.getElementById('facid').value,\r\n        date:document.getElementById('date').value,\r\n        time:document.getElementById('time').value,\r\n        class:document.getElementById('class').value,\r\n    }\r\n    //check date and time according to the exam schedule --sprint2 \r\n    //validity \r\n    var t=0\r\n    if(validity(request.class,ClassName)){\r\n    }\r\n    else{\r\n      alert('Wrong Credentials!!')\r\n      t=1\r\n    }\r\n    if(validity(request.Faculty_id,Faculty_id)){\r\n    }\r\n    else{\r\n      if (t==0){\r\n        t=1\r\n      alert('Wrong Credentials!!')\r\n    }\r\n  }\r\n  //faculty id commintment \r\n  if (getdetails(request.Faculty_id,request.class,request.date,request.time)){\r\n  }\r\n  else{\r\n    if (t==0){\r\n      t=1\r\n      alert('Wrong Credentials!!')\r\n    }\r\n  }\r\n  if (t==1){\r\n}\r\nelse{\r\n  db.collection(\"Allotments\").doc(request.Faculty_id).set({\r\n    AllotmentT:request.time,\r\n    AllotmentD:request.date,\r\n    ClassRoom:request.class,\r\n    FacultyID:request.Faculty_id\r\n})\r\n.then(() => {\r\n    console.log(\"Document successfully written!\");\r\n})\r\n.catch((error) => {\r\n    console.error(\"Error writing document: \", error);\r\n});\r\n}\r\n  }\r\n  return (\r\n   <div className=\"rrt\">\r\n        <Link to=\"/ahome\"><Button variant=\"primary\" className=\"ff\">Home</Button></Link>\r\n       <div className=\"amrita\">\r\n       <Card border=\"dark\" style={{ width: '30rem' }}>\r\n          <Card.Body>\r\n          <Card.Title>Alloting Details</Card.Title>\r\n          <Form onSubmit={(e)=>add_details(e)}>\r\n          <Form.Group controlId=\"formBasicEmail\">\r\n            <Form.Label>Give faculty ID</Form.Label>\r\n            <Form.Control type=\"text\" placeholder=\"faculty id\" id=\"facid\"/>\r\n          </Form.Group>\r\n          <Form.Group controlId=\"formBasicPassword\">\r\n            <Form.Label>Allotment date</Form.Label>\r\n            <Form.Control type=\"date\" placeholder=\"date\" id=\"date\" />\r\n          </Form.Group>\r\n          <Form.Group controlId=\"formBasicPassword\">\r\n            <Form.Label>Allotment time</Form.Label>\r\n            <Form.Control type=\"time\" placeholder=\"time\" id=\"time\" />\r\n          </Form.Group>\r\n          <Form.Group controlId=\"formBasicPassword\">\r\n            <Form.Label>Allotment classroom</Form.Label>\r\n            <Form.Control type=\"text\" placeholder=\"classroom\" id=\"class\" />\r\n          </Form.Group>\r\n          <Button variant=\"primary\" type=\"submit\" value=\"Submit\">Allot</Button>\r\n          </Form>\r\n          </Card.Body>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}