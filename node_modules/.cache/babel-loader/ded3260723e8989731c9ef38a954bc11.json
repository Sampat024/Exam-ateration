{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HRIDHI SETHI\\\\Documents\\\\exam-alteration-helper\\\\src\\\\Componets\\\\Forgot_password.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport \"./Forgot_password.css\";\nimport { useState, useEffect } from 'react';\nimport { db } from '../firebase';\nimport firebase from \"firebase\";\nimport { Form, Button } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ForgetPassword() {\n  _s();\n\n  const [email, setEmail] = useState([]); //database\n\n  const [security, setSecurity] = useState([]); //database\n\n  var i;\n  var target;\n  useEffect(() => {\n    db.collection('FacultyDetails').onSnapshot(snapshot => {\n      setEmail(snapshot.docs.map(doc => doc.data().Email));\n    });\n    db.collection('FacultyDetails').onSnapshot(snapshot => {\n      setSecurity(snapshot.docs.map(doc => doc.data().Security));\n    });\n  }, []);\n  console.log(email[0]);\n\n  function submit_mail(e) {\n    e.preventDefault();\n    let request = {\n      username: document.getElementById('email').value\n    };\n\n    for (i = 0; i < email.length; i++) {\n      if (email[i] == request.username) {\n        target = i;\n        alert('Security Question : who is your favourite heroâ€‹');\n        var starCountRef = firebase.database().ref('Email/' + postId + '/starCount');\n        starCountRef.on('value', snapshot => {\n          const data = snapshot.val();\n          updateStarCount(postElement, data);\n        });\n\n        if (security[i] == request.security) {\n          alert('Success!!. Please enter new password');\n        } //   window.location.replace('/ahome');\n\n\n        break;\n      } else {\n        console.log(\"failure\");\n      }\n    }\n  }\n\n  function submit_security(e) {\n    e.preventDefault();\n    let request = {\n      username: document.getElementById('security').value\n    };\n\n    if (security[target] == request.username) {\n      db.collection('FacultyDetails').doc();\n      alert('Success!!. Please enter new password');\n    } else {\n      console.log(\"failure\");\n    }\n  }\n\n  function submit_pass(e) {\n    e.preventDefault();\n    let request = {\n      password: document.getElementById('pass').value,\n      confirm: document.getElementById('confirm').value\n    };\n\n    if (request.password == request.confirm) {\n      alert('successfully updated your password');\n      window.location.replace('/flogin');\n    } else {\n      console.log(\"failure\");\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"forget\",\n    children: [/*#__PURE__*/_jsxDEV(Form, {\n      inline: true,\n      onSubmit: e => submit_mail(e),\n      children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n        className: \"mb-2 mr-2 \",\n        id: \"email\",\n        placeholder: \"Enter email ID\",\n        type: \"email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(Form.Label, {\n        htmlFor: \"inlineFormInputGroupUsername2\",\n        srOnly: true,\n        children: \"Username\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        className: \"mb-2 ml-2\",\n        variant: \"primary\",\n        type: \"submit\",\n        value: \"Submit\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 3\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      inline: true,\n      onSubmit: e => submit_security(e),\n      children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n        className: \"mb-2  mr-2 \",\n        id: \"security\",\n        placeholder: \"answer for security\",\n        type: \"text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(Form.Label, {\n        htmlFor: \"inlineFormInputGroupUsername2\",\n        srOnly: true,\n        children: \"Username\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        className: \"mb-2 ml-2\",\n        variant: \"primary\",\n        type: \"submit\",\n        value: \"security\",\n        children: \"Verify\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 3\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 3\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: e => submit_pass(e),\n      children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n        controlId: \"exampleForm.ControlInput1\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"New Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"password\",\n          id: \"pass\",\n          placeholder: \"enter new password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(Form.Label, {\n        children: \"Confirm password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 4\n      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n        className: \"mb-2 mr-sm-2 \",\n        id: \"confirm\",\n        placeholder: \"Re-enter password\",\n        type: \"password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"success\",\n        type: \"submit\",\n        value: \"submit\",\n        className: \"mb-2 mt-3 ml-20\",\n        children: \"Change Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 5\n      }, this), ' ']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 1\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ForgetPassword, \"HOfJPB1shwGqrabXOjG+La6qebM=\");\n\n_c = ForgetPassword;\n\nvar _c;\n\n$RefreshReg$(_c, \"ForgetPassword\");","map":{"version":3,"sources":["C:/Users/HRIDHI SETHI/Documents/exam-alteration-helper/src/Componets/Forgot_password.js"],"names":["React","useState","useEffect","db","firebase","Form","Button","ForgetPassword","email","setEmail","security","setSecurity","i","target","collection","onSnapshot","snapshot","docs","map","doc","data","Email","Security","console","log","submit_mail","e","preventDefault","request","username","document","getElementById","value","length","alert","starCountRef","database","ref","postId","on","val","updateStarCount","postElement","submit_security","submit_pass","password","confirm","window","location","replace"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport \"./Forgot_password.css\";\r\nimport { useState,useEffect } from 'react';\r\nimport {db} from '../firebase';\r\nimport firebase from \"firebase\";\r\n\r\nimport { Form,Button} from 'react-bootstrap';\r\n\r\nexport default function ForgetPassword() {\r\n   \r\n  const [email,setEmail]=useState([]);//database\r\n  const [security,setSecurity]=useState([]);//database\r\n   var i;\r\n  var target ;\r\n  useEffect(() =>{\r\n    db.collection('FacultyDetails').onSnapshot(snapshot =>{\r\n      setEmail(snapshot.docs.map(doc => doc.data().Email))\r\n    })\r\n    db.collection('FacultyDetails').onSnapshot(snapshot =>{\r\n      setSecurity(snapshot.docs.map(doc => doc.data().Security))\r\n    })\r\n  },[]);\r\n  console.log(email[0]);\r\n\r\n\r\n  function submit_mail(e){\r\n    e.preventDefault();\r\n    let request =  {\r\n        username:document.getElementById('email').value,\r\n    }\r\n    for(i=0;i<email.length;i++){\r\n    if(email[i]==request.username ){\r\n      target=i;\r\n      alert('Security Question : who is your favourite heroâ€‹');\r\n      var starCountRef = firebase.database().ref('Email/' + postId + '/starCount');\r\n      starCountRef.on('value', (snapshot) => {\r\n      const data = snapshot.val();\r\n      updateStarCount(postElement, data);\r\n      });\r\n      if(security[i]==request.security ){\r\n        alert('Success!!. Please enter new password');\r\n      }\r\n        \r\n    //   window.location.replace('/ahome');\r\n      break;\r\n    }\r\n    else{\r\n      console.log(\"failure\");\r\n    }\r\n  }\r\n  \r\n  }\r\n\r\n  function submit_security(e){\r\n    e.preventDefault();\r\n    let request =  {\r\n        username:document.getElementById('security').value,\r\n    }\r\n    \r\n\r\n    if(security[target]==request.username ){\r\n\r\n      db.collection('FacultyDetails').doc()\r\n\r\n        alert('Success!!. Please enter new password');\r\n        \r\n\r\n      }\r\n        \r\n      \r\n    \r\n    else{\r\n      console.log(\"failure\");\r\n    }\r\n  \r\n  \r\n  }\r\n\r\n\r\n  function submit_pass(e){\r\n    e.preventDefault();\r\n    let request =  {\r\n        password:document.getElementById('pass').value,\r\n        confirm:document.getElementById('confirm').value,\r\n    }\r\n    if(request.password == request.confirm){\r\n      alert('successfully updated your password');\r\n      window.location.replace('/flogin');\r\n      \r\n    }\r\n    else{\r\n      console.log(\"failure\");\r\n    }\r\n  }\r\n    return (\r\n        <div className=\"forget\">\r\n   <Form inline onSubmit={(e)=>submit_mail(e)}>\r\n  \r\n  <Form.Control\r\n    className=\"mb-2 mr-2 \"\r\n    id=\"email\"\r\n    placeholder=\"Enter email ID\"\r\n    type=\"email\"\r\n  />\r\n  <Form.Label htmlFor=\"inlineFormInputGroupUsername2\" srOnly>\r\n    Username\r\n  </Form.Label>\r\n  \r\n  <Button type=\"submit\" className=\"mb-2 ml-2\" variant=\"primary\" type=\"submit\" value=\"Submit\">\r\n    Submit\r\n  </Button>\r\n\r\n\r\n\r\n  \r\n     \r\n</Form>\r\n<Form inline onSubmit={(e)=>submit_security(e)} >\r\n  <Form.Control\r\n    className=\"mb-2  mr-2 \"\r\n    id=\"security\"\r\n    placeholder=\"answer for security\"\r\n    type=\"text\"\r\n  />\r\n  <Form.Label htmlFor=\"inlineFormInputGroupUsername2\" srOnly>\r\n    Username\r\n  </Form.Label>\r\n  \r\n  <Button className=\"mb-2 ml-2\" variant=\"primary\" type=\"submit\" value=\"security\">\r\n    Verify\r\n  </Button>\r\n\r\n</Form>\r\n\r\n  <hr/>\r\n<Form  onSubmit={(e)=>submit_pass(e)}\r\n   >\r\n  <Form.Group controlId=\"exampleForm.ControlInput1\">\r\n    <Form.Label>New Password</Form.Label>\r\n    <Form.Control type=\"password\"  id =\"pass\" placeholder=\"enter new password\" />\r\n  </Form.Group>\r\n\r\n   <Form.Label>Confirm password</Form.Label>\r\n  <Form.Control\r\n    className=\"mb-2 mr-sm-2 \"\r\n    id=\"confirm\"\r\n    placeholder=\"Re-enter password\"\r\n    type=\"password\"\r\n  />\r\n\r\n    <Button variant=\"success\" type=\"submit\" value = \"submit\" className=\"mb-2 mt-3 ml-20\" >Change Password</Button>{' '}\r\n\r\n\r\n  </Form>\r\n\r\n  \r\n  \r\n\r\n    </div>\r\n    )\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}