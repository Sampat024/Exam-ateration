{"ast":null,"code":"import _slicedToArray from\"C:/Users/HRIDHI SETHI/Documents/exam-alteration-helper/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import'./Faculty_login.css';import{Form,Button,Card}from'react-bootstrap';import'bootstrap/dist/css/bootstrap.min.css';import{Link}from'react-router-dom';import{useState,useEffect}from'react';import{db}from'../firebase';import firebase from'../firebase';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];//database\nvar _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];//database\nvar i;var count=0;var count1=1;useEffect(function(){db.collection('FacultyDetails').onSnapshot(function(snapshot){setEmail(snapshot.docs.map(function(doc){return doc.data().Email;}));setPassword(snapshot.docs.map(function(doc){return doc.data().Password;}));});},[]);console.log(email[0]);function submit_login(e){e.preventDefault();var request={username:document.getElementById('uname').value,pass:document.getElementById('pwd').value};for(i=0;i<email.length;i++){if(email[i]==request.username&&password[i]==request.pass){window.location.replace('/ahome');count=0;break;}else{count=1;}}if(count1<3){alert('Wrong credentials!!​');count1=count1+1;}else if(count1==3){alert('You have only one attempt left !!​');count1=count1+1;}else{window.location.replace('/');}}var signInWithGoogle=function signInWithGoogle(){var googleProvider=new firebase.auth.GoogleAuthProvider();firebase.auth().signInWithPopup(googleProvider).then(function(res){var token=res.credential.accessToken;var user=res.user;firebase.auth().onAuthStateChanged(function(user){if(user){for(i=0;i<email.length;i++){if(user.email==email[i]){window.location.replace('/fhome');count=0;break;}else{count=1;}//skskdh06@gmail.com\n//admin_Amrita06 \n}if(count==1){alert('Wrong credentials!!​');}}else{console.log(\"not user\");}});}).catch(function(error){console.log(error.message);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"Login\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(Button,{variant:\"primary\",className:\"but\",children:\"Home\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"Guns\",children:/*#__PURE__*/_jsx(Card,{border:\"dark\",style:{width:'30rem'},children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:\"Faculty LOGIN\"}),/*#__PURE__*/_jsxs(Form,{id:\"login-patient\",onSubmit:function onSubmit(e){return submit_login(e);},children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formBasicEmail\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email address\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",placeholder:\"Enter email\",id:\"uname\"})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formBasicPassword\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",placeholder:\"Password\",id:\"pwd\"})]}),/*#__PURE__*/_jsx(Form.Group,{children:/*#__PURE__*/_jsx(Button,{className:\"login-provider-button\",onClick:signInWithGoogle,children:/*#__PURE__*/_jsx(\"span\",{children:\" Continue with Google\"})})}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",value:\"Submit\",children:\"Submit\"}),/*#__PURE__*/_jsx(Card.Link,{href:\"/forget\",className:\"llink\",children:\"Forgot password\"})]})]})})})]});}export default App;","map":{"version":3,"sources":["C:/Users/HRIDHI SETHI/Documents/exam-alteration-helper/src/Componets/Faculty_login.js"],"names":["Form","Button","Card","Link","useState","useEffect","db","firebase","App","email","setEmail","password","setPassword","i","count","count1","collection","onSnapshot","snapshot","docs","map","doc","data","Email","Password","console","log","submit_login","e","preventDefault","request","username","document","getElementById","value","pass","length","window","location","replace","alert","signInWithGoogle","googleProvider","auth","GoogleAuthProvider","signInWithPopup","then","res","token","credential","accessToken","user","onAuthStateChanged","catch","error","message","width"],"mappings":"6KACA,MAAO,qBAAP,CACA,OAASA,IAAT,CAAcC,MAAd,CAAqBC,IAArB,KAAiC,iBAAjC,CACA,MAAO,sCAAP,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,QAAT,CAAkBC,SAAlB,KAAmC,OAAnC,CACA,OAAQC,EAAR,KAAiB,aAAjB,CACA,MAAOC,CAAAA,QAAP,KAAqB,aAArB,C,wFACA,QAASC,CAAAA,GAAT,EAAe,eACUJ,QAAQ,CAAC,EAAD,CADlB,wCACNK,KADM,eACAC,QADA,eACuB;AADvB,eAEgBN,QAAQ,CAAC,EAAD,CAFxB,yCAENO,QAFM,eAEGC,WAFH,eAE6B;AAC1C,GAAIC,CAAAA,CAAJ,CACA,GAAIC,CAAAA,KAAK,CAAC,CAAV,CACA,GAAIC,CAAAA,MAAM,CAAC,CAAX,CACAV,SAAS,CAAC,UAAK,CACbC,EAAE,CAACU,UAAH,CAAc,gBAAd,EAAgCC,UAAhC,CAA2C,SAAAC,QAAQ,CAAG,CACpDR,QAAQ,CAACQ,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkB,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,GAAWC,KAAf,EAArB,CAAD,CAAR,CACAX,WAAW,CAACM,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkB,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,GAAWE,QAAf,EAArB,CAAD,CAAX,CACD,CAHD,EAID,CALQ,CAKP,EALO,CAAT,CAMAC,OAAO,CAACC,GAAR,CAAYjB,KAAK,CAAC,CAAD,CAAjB,EAIA,QAASkB,CAAAA,YAAT,CAAsBC,CAAtB,CAAwB,CACtBA,CAAC,CAACC,cAAF,GACA,GAAIC,CAAAA,OAAO,CAAI,CACXC,QAAQ,CAACC,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCC,KAD/B,CAEXC,IAAI,CAACH,QAAQ,CAACC,cAAT,CAAwB,KAAxB,EAA+BC,KAFzB,CAAf,CAIA,IAAIrB,CAAC,CAAC,CAAN,CAAQA,CAAC,CAACJ,KAAK,CAAC2B,MAAhB,CAAuBvB,CAAC,EAAxB,CAA2B,CACzB,GAAGJ,KAAK,CAACI,CAAD,CAAL,EAAUiB,OAAO,CAACC,QAAlB,EAA8BpB,QAAQ,CAACE,CAAD,CAAR,EAAaiB,OAAO,CAACK,IAAtD,CAA2D,CACzDE,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB,QAAxB,EACAzB,KAAK,CAAC,CAAN,CACA,MACD,CAJD,IAKI,CACFA,KAAK,CAAC,CAAN,CACC,CACF,CACD,GAAGC,MAAM,CAAC,CAAV,CAAY,CACVyB,KAAK,CAAC,sBAAD,CAAL,CACAzB,MAAM,CAACA,MAAM,CAAC,CAAd,CACD,CAHD,IAIK,IAAGA,MAAM,EAAE,CAAX,CAAa,CAChByB,KAAK,CAAC,oCAAD,CAAL,CACAzB,MAAM,CAACA,MAAM,CAAC,CAAd,CACD,CAHI,IAID,CACFsB,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB,GAAxB,EACD,CACF,CAEH,GAAME,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,EAAM,CAC7B,GAAMC,CAAAA,cAAc,CAAG,GAAInC,CAAAA,QAAQ,CAACoC,IAAT,CAAcC,kBAAlB,EAAvB,CACArC,QAAQ,CAACoC,IAAT,GAAgBE,eAAhB,CAAgCH,cAAhC,EAAgDI,IAAhD,CAAqD,SAACC,GAAD,CAAS,CAC5D,GAAIC,CAAAA,KAAK,CAAED,GAAG,CAACE,UAAJ,CAAeC,WAA1B,CACA,GAAIC,CAAAA,IAAI,CAAGJ,GAAG,CAACI,IAAf,CACA5C,QAAQ,CAACoC,IAAT,GAAgBS,kBAAhB,CAAmC,SAASD,IAAT,CAAc,CAC/C,GAAGA,IAAH,CAAQ,CACN,IAAItC,CAAC,CAAC,CAAN,CAAQA,CAAC,CAACJ,KAAK,CAAC2B,MAAhB,CAAuBvB,CAAC,EAAxB,CAA2B,CAC3B,GAAGsC,IAAI,CAAC1C,KAAL,EAAYA,KAAK,CAACI,CAAD,CAApB,CAAwB,CACtBwB,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB,QAAxB,EACAzB,KAAK,CAAC,CAAN,CACA,MACD,CAJD,IAKI,CACFA,KAAK,CAAC,CAAN,CACD,CACD;AACA;AACD,CACD,GAAIA,KAAK,EAAE,CAAX,CAAa,CACb0B,KAAK,CAAC,sBAAD,CAAL,CACD,CAAC,CAfA,IAgBI,CACFf,OAAO,CAACC,GAAR,CAAY,UAAZ,EACD,CACF,CApBD,EAqBD,CAxBD,EAwBG2B,KAxBH,CAwBS,SAACC,KAAD,CAAW,CAClB7B,OAAO,CAACC,GAAR,CAAY4B,KAAK,CAACC,OAAlB,EACD,CA1BD,EA2BD,CA7BD,CA+BA,mBACC,aAAK,SAAS,CAAC,OAAf,wBACK,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,uBAAa,KAAC,MAAD,EAAQ,OAAO,CAAC,SAAhB,CAA0B,SAAS,CAAC,KAApC,kBAAb,EADL,cAEI,YAAK,SAAS,CAAC,MAAf,uBACA,KAAC,IAAD,EAAM,MAAM,CAAC,MAAb,CAAoB,KAAK,CAAE,CAAEC,KAAK,CAAE,OAAT,CAA3B,uBACG,MAAC,IAAD,CAAM,IAAN,yBACA,KAAC,IAAD,CAAM,KAAN,4BADA,cAEA,MAAC,IAAD,EAAM,EAAE,CAAC,eAAT,CAAyB,QAAQ,CAAE,kBAAC5B,CAAD,QAAKD,CAAAA,YAAY,CAACC,CAAD,CAAjB,EAAnC,wBACA,MAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,gBAAtB,wBACE,KAAC,IAAD,CAAM,KAAN,4BADF,cAEE,KAAC,IAAD,CAAM,OAAN,EAAc,IAAI,CAAC,OAAnB,CAA2B,WAAW,CAAC,aAAvC,CAAqD,EAAE,CAAC,OAAxD,EAFF,GADA,cAKA,MAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,mBAAtB,wBACE,KAAC,IAAD,CAAM,KAAN,uBADF,cAEE,KAAC,IAAD,CAAM,OAAN,EAAc,IAAI,CAAC,UAAnB,CAA8B,WAAW,CAAC,UAA1C,CAAqD,EAAE,CAAC,KAAxD,EAFF,GALA,cASA,KAAC,IAAD,CAAM,KAAN,wBACA,KAAC,MAAD,EAAQ,SAAS,CAAC,uBAAlB,CAA0C,OAAO,CAAEa,gBAAnD,uBACQ,+CADR,EADA,EATA,cAcA,KAAC,MAAD,EAAQ,OAAO,CAAC,SAAhB,CAA0B,IAAI,CAAC,QAA/B,CAAwC,KAAK,CAAC,QAA9C,oBAdA,cAeA,KAAC,IAAD,CAAM,IAAN,EAAW,IAAI,CAAC,SAAhB,CAA0B,SAAS,CAAC,OAApC,6BAfA,GAFA,GADH,EADA,EAFJ,GADD,CA6BD,CAED,cAAejC,CAAAA,GAAf","sourcesContent":["\r\nimport './Faculty_login.css';\r\nimport { Form,Button,Card } from 'react-bootstrap';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport { Link } from 'react-router-dom';\r\nimport { useState,useEffect } from 'react';\r\nimport {db} from '../firebase';\r\nimport firebase from '../firebase';\r\nfunction App() {\r\n  const [email,setEmail]=useState([]);//database\r\n  const [password,setPassword]=useState([]);//database\r\n  var i;\r\n  var count=0;\r\n  var count1=1;\r\n  useEffect(() =>{\r\n    db.collection('FacultyDetails').onSnapshot(snapshot =>{\r\n      setEmail(snapshot.docs.map(doc => doc.data().Email))\r\n      setPassword(snapshot.docs.map(doc => doc.data().Password))\r\n    })\r\n  },[]);\r\n  console.log(email[0]);\r\n\r\n  \r\n\r\n  function submit_login(e){\r\n    e.preventDefault();\r\n    let request =  {\r\n        username:document.getElementById('uname').value,\r\n        pass:document.getElementById('pwd').value,\r\n    }\r\n    for(i=0;i<email.length;i++){\r\n      if(email[i]==request.username && password[i]==request.pass){\r\n        window.location.replace('/ahome');\r\n        count=0;\r\n        break;\r\n      }\r\n      else{\r\n        count=1;\r\n        }\r\n      }\r\n      if(count1<3){\r\n        alert('Wrong credentials!!​');\r\n        count1=count1+1\r\n      }\r\n      else if(count1==3){\r\n        alert('You have only one attempt left !!​');\r\n        count1=count1+1\r\n      }\r\n      else{\r\n        window.location.replace('/');\r\n      }\r\n    }\r\n\r\n  const signInWithGoogle = () => {\r\n    const googleProvider = new firebase.auth.GoogleAuthProvider()\r\n    firebase.auth().signInWithPopup(googleProvider).then((res) => {\r\n      var token =res.credential.accessToken;\r\n      var user = res.user;\r\n      firebase.auth().onAuthStateChanged(function(user){\r\n        if(user){\r\n          for(i=0;i<email.length;i++){\r\n          if(user.email==email[i]){\r\n            window.location.replace('/fhome');\r\n            count=0;\r\n            break;\r\n          }\r\n          else{\r\n            count=1;\r\n          }\r\n          //skskdh06@gmail.com\r\n          //admin_Amrita06 \r\n        }\r\n        if (count==1){\r\n        alert('Wrong credentials!!​');\r\n      }}\r\n        else{\r\n          console.log(\"not user\")\r\n        }\r\n      });\r\n    }).catch((error) => {\r\n      console.log(error.message)\r\n    })\r\n  }\r\n\r\n  return (\r\n   <div className=\"Login\">\r\n        <Link to=\"/\"><Button variant=\"primary\" className=\"but\">Home</Button></Link>\r\n       <div className=\"Guns\">\r\n       <Card border=\"dark\" style={{ width: '30rem' }}>\r\n          <Card.Body>\r\n          <Card.Title>Faculty LOGIN</Card.Title>\r\n          <Form id=\"login-patient\" onSubmit={(e)=>submit_login(e)} >\r\n          <Form.Group controlId=\"formBasicEmail\">\r\n            <Form.Label>Email address</Form.Label>\r\n            <Form.Control type=\"email\" placeholder=\"Enter email\" id=\"uname\"/>\r\n          </Form.Group>\r\n          <Form.Group controlId=\"formBasicPassword\">\r\n            <Form.Label>Password</Form.Label>\r\n            <Form.Control type=\"password\" placeholder=\"Password\" id=\"pwd\" />\r\n          </Form.Group>\r\n          <Form.Group>\r\n          <Button className=\"login-provider-button\" onClick={signInWithGoogle}>\r\n                  <span> Continue with Google</span>\r\n               </Button>\r\n               </Form.Group>\r\n          <Button variant=\"primary\" type=\"submit\" value=\"Submit\">Submit</Button>\r\n          <Card.Link href=\"/forget\" className=\"llink\">Forgot password</Card.Link>\r\n          </Form>\r\n          </Card.Body>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}